# =============================================================================
# USER STORY: First-Time User Onboarding (Journey Example)
# =============================================================================
# @spec_version: 1.0.0
# @priority: MVP
# @journey: ONBOARDING
# @systems: [USER_SYSTEM, PROFILE_SYSTEM]
# @last_updated: 2025-11-09T00:00:00Z
# @spec_source: 04.SYSTEMS/USER_SYSTEM.md:12, 04.SYSTEMS/PROFILE_SYSTEM.md:28

id: US-201
title: Complete initial onboarding flow
requirement_id: R-201
# skip: true  # Uncomment to skip this entire story
# only: true  # Uncomment to run ONLY this story (for local development)

acceptance_criteria:
  - id: AC-201-1
    title: New user can create account
    # skip: true  # Uncomment to skip just this acceptance criterion
    # only: true  # Uncomment to run ONLY this acceptance criterion
    narrative: |
      Given I am a new user on the landing page
      When I complete the signup form with valid information
      Then I should see my dashboard and a welcome message
    given:
      - visit: '/'
    when:
      - click: { selector: '[data-test=signup-button]' }
      - fill: { selector: '[data-test=email-input]', value: 'newuser@example.com' }
      - fill: { selector: '[data-test=password-input]', value: 'SecurePassword123!' }
      - click: { selector: '[data-test=create-account]' }
    then:
      - shouldExist: { selector: '[data-test=dashboard]' }
      - shouldContain: { selector: '[data-test=welcome-message]', text: 'Welcome' }

  - id: AC-201-2
    title: New user completes profile setup
    narrative: |
      Given I am a newly registered user on the dashboard
      When I navigate to profile settings and add my name
      Then I should see my name displayed in the header
    given:
      - loginAs: new_user
      - visit: '/dashboard'
    when:
      - click: { selector: '[data-test=profile-link]' }
      - fill: { selector: '[data-test=name-input]', value: 'John Doe' }
      - click: { selector: '[data-test=save-profile]' }
    then:
      - shouldContain: { selector: '[data-test=user-name]', text: 'John Doe' }
